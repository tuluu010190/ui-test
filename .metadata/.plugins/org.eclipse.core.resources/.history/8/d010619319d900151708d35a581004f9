package org.niteco.selenium.platform.rc;

import static org.exoplatform.selenium.TestLogger.info;

import org.exoplatform.selenium.Utils;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class CandidateProfile extends RCLocators{
	
	/**
	 * constructor
	 * @param dr
	 */
	public CandidateProfile(WebDriver dr){
		this.driver=dr;
	}
	
	/**
	 * Verify candidate profile
	 * @param fullName
	 * @param firstName
	 * @param lastName
	 * @param phone
	 * @param email
	 */
	public void verifyBasicCandidateProfile(String fullName, String firstName, String lastName, String phone, String email, String job, String fileName){
		if(fullName != null && fullName != "") {
			info("Varify full Name");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_FULL_NAME.replace("${fullName}", fullName)), DEFAULT_TIMEOUT, 1);
		}
		if(firstName != null && firstName != "") {
			info("Verify first name");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_FIRST_NAME.replace("${firstName}", firstName)), DEFAULT_TIMEOUT, 1);
		}
		if(lastName != null && lastName != "") {
			info("Veryfi Last Name");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_LAST_NAME.replace("${lastName}", lastName)), DEFAULT_TIMEOUT, 1);
		}
		if(phone != null && phone != "") {
			info("Verify Phone");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_PHONE.replace("${phone}", phone)), DEFAULT_TIMEOUT, 1);
		}
		if(email != null && email != "") {
			info("Verify email");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_EMAIL.replace("${email}", email)), DEFAULT_TIMEOUT, 1);
		}
		if(job != null && job != "") {
			info("Verify job");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_JOB.replace("${job}", job)), DEFAULT_TIMEOUT, 1);
		}
		if(fileName != null && fileName != "") {
			info("Verify attach file name");
			waitForAndGetElement(By.xpath(ELEMENT_RS_CANDIDATE_PROFILE_ATTACH_FILE.replace("${fileName}", fileName)), DEFAULT_TIMEOUT, 1);
		}
	}
	
	
	/**
	 * Go to add information for candidate
	 */
	public void goToAddInformationForCandiDate(){
		info("go to add information for candidate");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_ADD_INFORMATION_BTN, DEFAULT_TIMEOUT, 1);
		click(ELEMENT_RS_CANDIDATE_PROFILE_ADD_INFORMATION_BTN);
		Utils.pause(3000);
	}
	
	/**
	 * Go to add exam for candidate
	 */
	public void goToAddExam(){
		info("Go to add exam");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_NAV_BAR_EXAMS, DEFAULT_TIMEOUT, 1);
		click(ELEMENT_RS_CANDIDATE_PROFILE_NAV_BAR_EXAMS);
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_TITLE, DEFAULT_TIMEOUT, 1);
	}
	
	/**
	 * Go to change status for candidate
	 */
	public void goToChangeStatus(){
		info("Go to change status");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_NAV_BAR_STATUS, DEFAULT_TIMEOUT, 1);
		click(ELEMENT_RS_CANDIDATE_PROFILE_NAV_BAR_STATUS);
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_STATUS_TITLE, DEFAULT_TIMEOUT, 1);
	}
	
	/**
	 * Go to add exam for candidate
	 * @param choose
	 * @param group
	 * @param durations
	 */
	public void createExam(boolean choose, String group, String durations){
		info("create exam for candidate");
		info("Choose exam group");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_GROUP, DEFAULT_TIMEOUT, 1);
		if (choose == true) {
			click(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_GROUP);
			type(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_GROUP, group, true);
			waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_SELECT.replace("${group}", group), DEFAULT_TIMEOUT, 1);
			click(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_SELECT.replace("${group}", group));
		}
		else {
			click(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_GROUP);
			type(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_GROUP, group, true);
			pressEnterKey();
		}
		Utils.pause(2000);
		info("enter duration");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_DURATION, DEFAULT_TIMEOUT, 1);
		type(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_DURATION, durations, true);
		Utils.pause(2000);
		info("Click create button");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_CREATE_BTN, DEFAULT_TIMEOUT, 1);
		click(ELEMENT_RS_CANDIDATE_PROFILE_EXAMS_CREATE_BTN);
	}
	
	/**
	 * Verify exam badge number
	 * @param numberExams
	 */
	public void verifyExamsBadgeNumber(String numberExams){
		info("verify number of exam in badge");
		Utils.pause(3000);
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_AS_NAV_BAR_EXAMS_BADGE.replace("${number}", numberExams), DEFAULT_TIMEOUT, 1);
	}
	
	/**
	 * Go to exam tab in as
	 */
	public void goToExamsTabInAS(){
		info("Go to exam tab in as");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_AS_NAV_BAR_EXAMS, DEFAULT_TIMEOUT, 1);
		click(ELEMENT_RS_CANDIDATE_PROFILE_AS_NAV_BAR_EXAMS);
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_AS_EXAMS_LOCATION, DEFAULT_TIMEOUT, 1);
	}
	
	/**
	 * Go to specific exam in as
	 */
	public void goToSpecificExamInAS(){
		info("Go to specific exam in as");
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_AS_EXAMS_LOCATION, DEFAULT_TIMEOUT, 1);
		click(ELEMENT_RS_CANDIDATE_PROFILE_AS_EXAMS_LOCATION);
		waitForAndGetElement(ELEMENT_RS_CANDIDATE_PROFILE_AS_EXAMS_TEST_LINK, DEFAULT_TIMEOUT, 1);
	}
	
}
