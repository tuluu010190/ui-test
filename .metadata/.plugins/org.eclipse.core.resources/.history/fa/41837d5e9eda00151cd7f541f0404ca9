package org.exoplatform.selenium.platform.ecms.functional;

import static org.exoplatform.selenium.TestLogger.info;

import org.exoplatform.selenium.Utils;
import org.exoplatform.selenium.platform.HomePagePlatform;
import org.exoplatform.selenium.platform.social.SpaceManagement;
import org.testng.annotations.Test;

	public class ShareInContentExplorer_ActivityStream extends ECMS_TestConfig{

		private SpaceManagement spaceManage ;
		private HomePagePlatform homepage;
	/**
	*<li> Case ID:130860.</li>
	*<li> Test Case Name: Check the display of Author in AS when sharing a file in CE.</li>
	*<li> Pre-Condition: userA and userB are members of Space1.</li>
	*<li> Post-Condition: </li>
	*/
	@Test
	public  void test01_CheckTheDisplayOfAuthorInASWhenSharingAFileInCE() {
		info("Test 1: Check the display of Author in AS when sharing a file in CE");
		String spaceName = "space130860";
		
		/*Step Number: 1
		*Step Name: Step 1:Add/upload a file and share file.
		*Step Description: 
			- Log in as userA.
			- Go to Content Explorer.(Ex: Personal Documents / Space Documents / Site Explorer).
			- Add/Upload a file.
			- Share this file to Space1.
		*Input Data: 
			
		*Expected Outcome: 
			- File is shared successfully.*/
		info("Create 2 users for testing");
		createNewUser(2);
		
		info("User A login");
		magAc.signOut();
		magAc.signIn(arrayUser.get(0), password);
		Utils.pause(3000);
		
		//Add new space
		info("Create data");
		homepage.goToAllSpace();
		spaceManage.goToCreateSpace();
		spaceManage.addNewSpaceSimple(spaceName, "");
		
		/*Step number: 2
		*Step Name: Step 2: Check the display of activity
		*Step Description: 
			- Log in by userB, member of space.
			- Go to AS to check Activity.
			- Check Author Name of activity.Refer to image in Attachment.
		*Input Data: 
			
		*Expected Outcome: 
			- Author Name displayed with full name followed by a label "shared a document".
			- Generic User popup displayed while mouse hover.
			- User Profile is opened when Author Name is clicked.
			- Space Name is displayed in activity and opened when space name is clicked.*/ 

 	}

	/**
	*<li> Case ID:130861.</li>
	*<li> Test Case Name: Check Activity message displayed when sharing a file in CE.</li>
	*<li> Pre-Condition: userA and userB are members of Space1.</li>
	*<li> Post-Condition: </li>
	*/
	@Test
	public  void test02_CheckActivityMessageDisplayedWhenSharingAFileInCE() {
		info("Test 2: Check Activity message displayed when sharing a file in CE");
		/*Step Number: 1
		*Step Name: Step 1:Add/upload a file and share file.
		*Step Description: 
			- Log in as userA.
			- Go to Content Explorer.(Ex: Personal Documents / Space Documents / Site Explorer).
			- Add/Upload a file.
			- Share this file to Space1: Enter text message in Comment field in Share Dialog.
		*Input Data: 
			
		*Expected Outcome: 
			- File is shared with text message successfully.*/

		/*Step number: 2
		*Step Name: Step 2: Check the display of activity
		*Step Description: 
			- Log in by userB, member of space.
			- Go to AS to check Activity.
		*Input Data: 
			
		*Expected Outcome: 
			- The activity about sharing file is displayed in Intranet AS and Space AS.
			- The activity is displayed with activity message under Author section.*/ 

 	}

	/**
	*<li> Case ID:130864.</li>
	*<li> Test Case Name: Check Document name displayed with link in AS.</li>
	*<li> Pre-Condition: userA and userB are members of Space1.</li>
	*<li> Post-Condition: </li>
	*/
	@Test
	public  void test03_CheckDocumentNameDisplayedWithLinkInAS() {
		info("Test 3: Check Document name displayed with link in AS");
		/*Step Number: 1
		*Step Name: Step 1:Add/upload a file and share file.
		*Step Description: 
			- Log in as userA.
			- Go to Content Explorer.(Ex: Personal Documents / Space Documents / Site Explorer).
			- Add/Upload a file.
			- Share this file to Space1.
		*Input Data: 
			
		*Expected Outcome: 
			- File is shared successfully.*/

		/*Step number: 2
		*Step Name: Step 2: Check the display of activity
		*Step Description: 
			- Log in by userB, member of space.
			- Go to AS to check Activity.Refer to image in Attachment.
		*Input Data: 
			
		*Expected Outcome: 
			- The document is displayed with correct icon, filename, file size.
			- File name is displayed as a link.Note:
			- File icon is displayed as thumbnail if the file type is supported (ex image, PDF...).
			- File can be previewed/played in thumbnail if file type is supported (ex movie).
			- When Filename is clicked: File is opened in Office if Open In Office feature is supported.
			- When Filename is clicked: File is re
			-directed to Content Explorer if Open In Office is NOT supported.*/ 

 	}

	/**
	*<li> Case ID:130865.</li>
	*<li> Test Case Name: Check Activity deleted in AS when symlink is deleted.</li>
	*<li> Pre-Condition: UserA and userB are members of Space1.</li>
	*<li> Post-Condition: </li>
	*/
	@Test
	public  void test04_CheckActivityDeletedInASWhenSymlinkIsDeleted() {
		info("Test 4: Check Activity deleted in AS when symlink is deleted");
		/*Step Number: 1
		*Step Name: Step 1:Add/upload a file and share file.
		*Step Description: 
			- Log in as userA.
			- Go to Content Explorer.(Ex: Personal Documents / Space Documents / Site Explorer).
			- Add/Upload a file.
			- Share this file to Space1.
		*Input Data: 
			
		*Expected Outcome: 
			- File is shared to Space1.*/

		/*Step number: 2
		*Step Name: Step 2: Sharing file is displayed in AS.
		*Step Description: 
			- Log in by userB, member of space.
			- Go to Space1's Documents.
		*Input Data: 
			
		*Expected Outcome: 
			- A symlink of file shared is added in Shared folder.
			- Activity about sharing file is displayed in Intranet AS, Space AS.*/

		/*Step number: 3
		*Step Name: Step 3:Remove symlink in Shared folder.
		*Step Description: 
			- Log in as userA.
			- Access Space > Shared folder.
			- Remove the symlink.
		*Input Data: 
			
		*Expected Outcome: 
			- Symlink is removed from Shared folder.*/

		/*Step number: 4
		*Step Name: Step 4:Check activity of sharing file in AS.
		*Step Description: 
			- Log in by userB.
			- Check Intranet AS.
			- Check Space AS.
		*Input Data: 
			
		*Expected Outcome: 
			- Activity of shared file is deleted.*/ 

 	}

	/**
	*<li> Case ID:130866.</li>
	*<li> Test Case Name: Check Activities deleted in AS when Shared folder is deleted.</li>
	*<li> Pre-Condition: userA and userB are members of Space1</li>
	*<li> Post-Condition: </li>
	*/
	@Test
	public  void test05_CheckActivitiesDeletedInASWhenSharedFolderIsDeleted() {
		info("Test 5: Check Activities deleted in AS when Shared folder is deleted");
		/*Step Number: 1
		*Step Name: Step 1:Add/upload a file and share file.
		*Step Description: 
			- Log in as userA.
			- Go to Content Explorer.(Ex: Personal Documents / Space Documents / Site Explorer).
			- Add/Upload some files.
			- Share these files to Space1.
		*Input Data: 
			
		*Expected Outcome: 
			- Files are shared to Space1.*/

		/*Step number: 2
		*Step Name: Step 2: Sharing file is displayed in AS.
		*Step Description: 
			- Log in as userB, member of space.
			- Go to Space Documents.
		*Input Data: 
			
		*Expected Outcome: 
			- Symlinks of files shared are added in Shared folder.
			- Activities about sharing files are displayed in Intranet AS, Space AS.*/

		/*Step number: 3
		*Step Name: Step 3:Remove Shared folder.
		*Step Description: 
			- Log in as userA.
			- Access Space > Space Documents.
			- Remove Shared folder.
		*Input Data: 
			
		*Expected Outcome: 
			- Shared folder is deleted.*/

		/*Step number: 4
		*Step Name: Step 4:Check activities of sharing file in AS.
		*Step Description: 
			- Log in as userB.
			- Check Intranet AS.
			- Check Space AS.
		*Input Data: 
			
		*Expected Outcome: 
			- Activities of shared files are deleted.*/ 

 	}

	/**
	*<li> Case ID:130906.</li>
	*<li> Test Case Name: Check Activity is removed when Space is deleted.</li>
	*<li> Pre-Condition: UserA is manager of Space1.UserB is member of Space1.</li>
	*<li> Post-Condition: </li>
	*/
	@Test
	public  void test06_CheckActivityIsRemovedWhenSpaceIsDeleted() {
		info("Test 6: Check Activity is removed when Space is deleted");
		/*Step Number: 1
		*Step Name: Step 1:Add/upload a file and share file.
		*Step Description: 
			- Log in as userA.
			- Go to Content Explorer.(Ex: Personal Documents / Space Documents / Site Explorer).
			- Add/Upload a file.
			- Share this file to Space1.
		*Input Data: 
			
		*Expected Outcome: 
			- File is shared to Space1.*/

		/*Step number: 2
		*Step Name: Step 2: Check the display of Activity about File Shared.
		*Step Description: 
			- Log in by userB, member of space.
			- Check Intranet AS and Space AS.
		*Input Data: 
			
		*Expected Outcome: 
			- The activity of shared file is displayed.*/

		/*Step number: 3
		*Step Name: Step 3:Remove Space.
		*Step Description: 
			- Log in byuserA, Space Manager.
			- Remove space.
		*Input Data: 
			
		*Expected Outcome: 
			- Space is removed.*/

		/*Step number: 4
		*Step Name: Step 4: Check the display of Activity about File Shared.
		*Step Description: 
			- Log in by userB.
			- Check the display of Activity about File Shared.
		*Input Data: 
			
		*Expected Outcome: 
			- The activity is not displayed any more.*/ 

 	}}