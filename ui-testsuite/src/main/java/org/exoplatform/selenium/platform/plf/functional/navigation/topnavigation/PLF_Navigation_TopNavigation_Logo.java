package org.exoplatform.selenium.platform.plf.functional.navigation.topnavigation;

import static org.exoplatform.selenium.TestLogger.info;

import org.exoplatform.selenium.Utils;
import org.exoplatform.selenium.platform.ManageAccount;
import org.exoplatform.selenium.platform.NavigationToolbar;
import org.exoplatform.selenium.platform.PlatformBase;
import org.openqa.selenium.By;
import org.testng.annotations.*;

/**
 * @author chinhdtt
 * @date 21 Mar 2014
 */
public class PLF_Navigation_TopNavigation_Logo extends PlatformBase{
	ManageAccount acc;
	NavigationToolbar nav;

	@BeforeMethod
	public void beforeMethods(){	
		initSeleniumTest();
		driver.get(baseUrl);
		acc = new ManageAccount(driver, this.plfVersion);
		nav = new NavigationToolbar(driver, this.plfVersion);				
		acc.signIn(DATA_USER1, DATA_PASS);		
	}

	@AfterMethod
	public void afterMethods() {
		info("Logout portal");
		driver.manage().deleteAllCookies();
		driver.quit();
	}

	/**
	 * Case ID:76641.
	 * Test Case Name: Back to Homepage from Logo icon.
	 * Pre-Condition: The user navigate in other page than the homepage
	 * Post-Condition: 
	 * Done with OSs and browsers : 
	 * Generated by chinhdtt at 2014/03/21 14:47:13
	 */
	@Test
	public  void test01_BackToHomepageFromLogoIcon() {
		info("Test 1: Back to Homepage from Logo icon");
		/*
		- Connect to Intranet
		- Click on link "forum" on left navigation
		 *Input Data: 
		 *Expected Outcome: 
		- The Navigation bar is displayed
		- The Logo is displayed in the left of the navigation bar in homepage, and forum page		*/
		info("Check navigation bar");
		waitForAndGetElement(ELEMENT_NAVIGATION_TOOLBAR_HOMEPAGE);
		info("Check logo in homepage");
		waitForAndGetElement(ELEMENT_LOGO_CONTAINER_TOOLBAR);
		info("Check logo in forum");
		mouseOverAndClick(ELEMENT_FORUM_PAGE);
		waitForAndGetElement(ELEMENT_NAVIGATION_TOOLBAR_HOMEPAGE);	
		waitForAndGetElement(ELEMENT_LOGO_CONTAINER_TOOLBAR);

		/*
		- Click on the logo
		 *Input Data: 
		 *Expected Outcome: 
		- The Homepage is displayed		*/ 
		mouseOverAndClick(ELEMENT_LOGO_CONTAINER_TOOLBAR);
		Utils.pause(500);
		waitForAndGetElement(ELEMENT_REFRESH);
	}

	/**
	 * Case ID:76642.
	 * Test Case Name: Show "Branding" option for Administrator user.
	 * Pre-Condition: 
	 * Post-Condition: 
	 * Done with OSs and browsers : 
	 * Generated by chinhdtt at 2014/03/21 14:47:13
	 */
	@Test
	public  void test02_ShowBrandingOptionForAdministratorUser() {
		info("Test 2: Show Branding option for Administrator user");
		/*
		- Connect to Intranet with administrator
		 *Input Data: 
		 *Expected Outcome: 
		- The top navigation bar is displayed		*/
		info("Check navigation bar");
		waitForAndGetElement(ELEMENT_NAVIGATION_TOOLBAR_HOMEPAGE);

		/*
		- From Navigation Bar, Mouse over on the button "Administration" then Mouse over "Portal"
		 *Input Data: 
		 *Expected Outcome: 
		- The list of items is displayed
		- The BRanding item is displayed in the list		*/ 
		info("Check Branding item display");
		mouseOverAndClick(ELEMENT_CATEGORY_ADMINISTRATION);
		waitForAndGetElement(ELEMENT_MENU_PORTAL);
		mouseOver(ELEMENT_MENU_PORTAL, true);
		Utils.pause(2000);
		waitForAndGetElement(By.xpath(ELEMENT_LINK_PAGES));
		waitForAndGetElement(By.xpath(ELEMENT_LINK_SITES));
		waitForAndGetElement(By.xpath(ELEMENT_LINK_GROUP));
		waitForAndGetElement(By.xpath(ELEMENT_LINK_BRANDING));
	}
}